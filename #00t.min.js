var c = 80, d = 60, f = 1, g = Array(d), h = 1, j = 0, n = 0, p = Array(d), q = 1, r = "\u2007\u2809\u2812\u281b\u2824\u282d\u2836x\u28c0\u28c9\u28d2x\u28e4".split(""), s = Math, t = s.min, u = s.max, v = s.pow, w = s.random;
onkeydown = function(a) {
    switch (a.which) {
        case 38:
            return f = u(1, --f);
        case 40:
            return f = t(4, ++f);
        case 32:
        case 39:
            return g[0] = f
    }
}, function x() {
    var a, b, i, k, e = "";
    a = w();
    var l = w();
    for (i = g.join(""), k = i.match(/[^0]/g), b = d / 4, k = k && k.length / d || .001, (i = i.match(RegExp(h, "g"))) && i.length > b ? j = b : g.lastIndexOf(h) > .8 * d && (j = .2 * b), (j > 0 || k > a) && (j--, j && .8 > l) ? p[d] = h : n || k + .1 > a ? (n = 1, h == f ? (n = 0, j = 70 * l * k) : h += h > f ? -1 : 1) : k + .12 > a && (h += t(u(a > .5 ? 1 : -1, 1), 4), j = 3 * l * q), g.unshift(0), g.splice(d, d), p.shift(), a = r[v(2, f - 1)], p[0] == f && (a = "X", e = "YOU DIED! (F5)"), b = r[v(2, h - 1)], g[d - 1] == f && (b = "X", 5 == q ? e = "YOU WON!" : (e = "LEVEL UP!", c -= 15, d -= 8, g = Array(d), p = Array(d), setTimeout(x, 2e3), q++)), a = "LEVEL " + q + "/5 [" + a + ":", l = 0; d > ++l;)(k = g[l] ? v(2, g[l] - 1) : 0) && g[l] == p[l] ? (g[l] = p[l] = 0, a += "X") : k && g[l] == p[l + 1] ? (g[l] = p[l + 1] = 0, l += 1, a += r[0] + "X") : a += r[k + (p[l] ? v(2, p[l] - 1) : 0)];
    top.location.replace("#" + (a + (":" + b + "] ")) + e), e || setTimeout(x, c)
}();